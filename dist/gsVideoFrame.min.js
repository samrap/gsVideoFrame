!function(e){e.fn.gsVideoFrame=function(t){var n=new Date,o={autoplay:1,element:e(this),playing:!1,id:"video"+n.getTime(),container:".embed-responsive",type:"",src:"",onBeforeOpen:function(){},onOpen:function(){},onPause:function(){},onPlay:function(){},onBeforeClose:function(){},onClose:function(){}};t=e.extend(o,t),"undefined"!=typeof t.element.data("type")&&["youtube","vimeo"].indexOf(t.element.data("type").trim())&&(t.type=e(this).data("type")),""===t.src.trim()&&("undefined"!=typeof t.element.data("src")?t.src=e(this).data("src"):"undefined"!=typeof t.element.attr("href")&&(t.src=e(this).attr("href"))),t.api=function(e,t,n){"function"!=typeof n&&(n=function(){});var o,i=document.getElementsByTagName("script")[0];return document.getElementById(t)?void n():(o=document.createElement("script"),o.id=t,o.onload=function(){n()},o.src=e,void i.parentNode.insertBefore(o,i))},t.youtube=function(){t.com=function(){t.tmp=t.src.split("?")[1],t.tmp=t.tmp.split("&");for(var e=0;e<t.tmp.length;e++)if(t.param=t.tmp[e].split("="),"v"===t.param[0]&&"undefined"!=typeof t.param[1])return t.param[1];return""},t.be=function(){return t.tmp=t.src.split("youtu.be/"),"undefined"!=typeof t.tmp[1]?t.tmp[1].split("/")[0]:""},t.getVidId=function(){return t.src.indexOf("youtu.be")>=0?t.be():t.src.indexOf("youtube.")>=0?t.com():""},t.getUrl=function(){return t.tmp="https://www.youtube.com/embed/"+t.getVidId()+"?enablejsapi=1&color=white&iv_load_policy=3&showinfo=0&rel=0",t.autoplay&&(t.tmp+="&autoplay=1"),t.tmp},t.state=function(e){0===e.data?t.close():1===e.data?t.onPlay():2===e.data&&t.onPause()},t.listen=function(){t.tmp={events:{onStateChange:t.state}},t.autoplay&&(t.tmp.autoplay=1),t.player=new YT.Player(t.id,t.tmp)},this.init=function(){t.vidId=t.getVidId(),t.api("https://www.youtube.com/player_api","youtube-api",function(){t.frame(t.getUrl()),setTimeout(function(){t.listen()},1e3)})},this.init()},t.vimeo=function(){t.getUrl=function(){return t.tmp=t.src.split("?")[0].split("vimeo.com/"),"undefined"!=typeof t.tmp[1]?(t.tmp="https://player.vimeo.com/video/"+t.tmp[1].split("/")[0]+"?api=1&badge=0&byline=0&portrait=0&title=0&color=ffffff&buttons=0&player_id="+t.id,t.autoplay&&(t.tmp+="&autoplay=1"),t.tmp):""},t.listen=function(){t.player=$f(t.iframe[0]),t.player.addEvent("ready",function(){t.player.addEvent("play",function(){t.onPlay()}),t.player.addEvent("pause",function(){t.onPause()}),t.player.addEvent("finish",function(){t.close()})})},this.init=function(){t.api("//f.vimeocdn.com/js/froogaloop2.min.js","vimeo-api",function(){t.frame(t.getUrl()),t.listen()})},this.init()},t.embed=function(){"youtube"===t.type||t.src.indexOf("youtu")>=0?t.youtube():("vimeo"===t.type||t.src.indexOf("vimeo")>=0)&&t.vimeo()},t.close=function(){t.onBeforeClose(),t.playing=!1,t.content.stop().animate({opacity:0},250,function(){e(this).remove(),t.onClose(),t={}})},t.initClose=function(){t.playing=!0,e(window).on("keyup",function(e){t.playing&&27===e.keyCode&&t.close()})},t.append=function(n){t.onBeforeOpen(),t.content=n,t.element.parents(t.container).length>0?t.element.parents(t.container).first().append(n):e("body").append(t.content),t.content.stop().animate({opacity:1},250,function(){t.onOpen()}),t.initClose()},t.frame=function(n){"undefined"!=typeof n&&null!==n&&""!==n&&(t.iframe=e("<iframe allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen />").attr({src:n,frameborder:"0",id:t.id}),t.tmp=e("<i />").attr({"class":"close"}).on("click",function(){t.close()}),t.tmp=e("<div />").attr({"class":"embed-responsive-item"}).css({opacity:0}).append(t.iframe,t.tmp),t.append(t.tmp))},t.embed()}}(jQuery);